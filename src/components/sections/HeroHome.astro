---
import Button from '../ui/Button.astro';

interface Props {
  title: string;
  subtitle: string;
  description: string;
  buttonText?: string;
  buttonIcon?: 'phone' | 'calendar' | 'envelope' | 'learn' | 'download' | 'none';
  buttonHref?: string;
}

const {
  title,
  subtitle,
  description,
  buttonText = 'Schedule Strategy Session',
  buttonIcon = 'calendar',
  buttonHref = '/schedule/'
} = Astro.props;
---

<section class="w-full overflow-hidden relative">
  <!-- Blurred background image -->
  <div
    class="absolute inset-0 bg-cover bg-center bg-no-repeat"
    style="background-image: url('https://RebelApeCDN.b-cdn.net/hero-roofing-background.webp'); filter: blur(2px);"
  ></div>
  <!-- Gradient overlay: top-to-bottom on mobile, left-to-right on desktop -->
  <div class="absolute inset-0 bg-gradient-to-b lg:bg-gradient-to-r from-black/70 via-black/50 to-black/20 z-0"></div>

  <div class="max-w-7xl mx-auto px-6 relative z-10">
    <div class="flex flex-col lg:flex-row items-end">

      <!-- Left side: Text content (50% width) -->
      <div class="w-full lg:w-[55%] text-white text-center lg:text-left py-16 md:py-20">
        <h1 class="text-5xl md:text-6xl lg:text-7xl font-black leading-none mb-6" set:html={title}>
        </h1>

        <h2 class="text-xl md:text-2xl font-semibold text-gray-200 mb-4" set:html={subtitle}>
        </h2>

        <p class="text-lg text-gray-300 mb-8 lg:max-w-xl" set:html={description}>
        </p>

        <div class="flex justify-center lg:justify-start">
          <div class="transform scale-110 origin-center lg:origin-left">
            <Button text={buttonText} icon={buttonIcon} href={buttonHref} />
          </div>
        </div>
      </div>

      <!-- Right side: Power duo gorillas image -->
      <!-- Mobile: centered below text, contained width -->
      <!-- Desktop: absolute positioned, full height, can overflow right -->
      <div class="w-full px-[5px] flex justify-center lg:px-0 lg:w-auto lg:absolute lg:left-[55%] lg:bottom-0 lg:top-[15px] lg:right-0 lg:items-end lg:justify-start">
        <img
          src="https://RebelApeCDN.b-cdn.net/hero-power-duo.png"
          alt="Rebel Ape Marketing power duo gorillas"
          class="w-full h-auto lg:w-auto lg:max-w-none lg:h-full"
          loading="eager"
          fetchpriority="high"
        />
      </div>

    </div>
  </div>
</section>

<link rel="preload" href="https://RebelApeCDN.b-cdn.net/hero-roofing-background.webp" as="image" />
<link rel="preload" href="https://RebelApeCDN.b-cdn.net/hero-power-duo.png" as="image" />
